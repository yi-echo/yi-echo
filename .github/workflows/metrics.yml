name: Generate GitHub Metrics (Terminal Modern)

on:
  schedule:
    - cron: "0 0 * * *" # æ¯å¤©å‡Œæ™¨è‡ªåŠ¨æ›´æ–°
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: ğŸ“Š Generate terminal-style metrics (modern + fast)
        uses: lowlighter/metrics@latest
        with:
          # ğŸ”‘ GitHub Token (è¯·ä½¿ç”¨ Personal Access Token)
          token: ${{ secrets.METRICS_TOKEN }}

          # ğŸ‘¤ ç”¨æˆ·ä¿¡æ¯
          user: yi-echo

          # âš™ï¸ æ¨¡æ¿ä¸æ¸²æŸ“é…ç½®
          template: terminal-modern
          config_timezone: Asia/Shanghai
          config_padding: 0
          use_prebuilt_image: yes       # âœ… ä½¿ç”¨é¢„æ„å»ºé•œåƒï¼Œæ˜¾è‘—æé€Ÿ
          optimize: yes                 # âœ… ä¼˜åŒ– SVG ä½“ç§¯
          clean_workflows: yes          # âœ… è‡ªåŠ¨æ¸…ç†æ—§å·¥ä½œæµç¼“å­˜

          # ğŸ“ˆ æ ¸å¿ƒå±•ç¤ºæ¨¡å—
          base: header, repositories, metadata

          # ğŸ’» è¯­è¨€ç»Ÿè®¡
          plugin_languages: yes
          plugin_languages_limit: 8
          plugin_languages_ignored: html, css
          plugin_languages_threshold: 0%
          plugin_languages_sections: most-used

          # ğŸ“‚ è¾“å‡ºæ–‡ä»¶
          filename: github-metrics.svg
